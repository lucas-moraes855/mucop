$(function () {

    // -----------------------
    // ----- INPUT COLOR -----
    // -----------------------
        
    // Modificar a cor do alvo

    $(document).on("change", ".mcp-input.color input", function () {
        var value = $(this).val();
        $(this).siblings(".field").children(".bg").css({"background-color": value});
    });
    
    
    // ----------------------
    // ----- INPUT FILE -----
    // ----------------------
    
    // Indicar a quantidade de arquivos selecionados

    $(document).on("change", ".mcp-input-file input", function () {        
        let lenght = $(this)[0]["files"]["length"];
        
        if (lenght > 0) {
            if (lenght == 1) {
                $(this).siblings().children(".text").text(lenght + " arquivo");    
            } else {
                $(this).siblings().children(".text").text(lenght + " arquivos");
            }            
        }        
    });


    // ------------------
    // ----- SELECT -----
    // ------------------
    
    
    // Carregar valor da opção selecionada no campo ao carregar página
    
    if ( $(".mcp-select option:selected").val() != '' ) {
        let value = $(".mcp-select select > option:selected").val();
        let index = $(".mcp-select select > option:selected").index();

        if (index > 0) {
            $(".mcp-select .field").addClass("selected").children(".value").text(value);
        }
    }    
    
    // Modificar opção selecionada
     
    $(document).on("change", ".mcp-select select", function () {
        let value = $(this).val();
        let index = $(this).children("option:selected").index();
        
        if (index > 0) {            
            $(this).siblings(".field").addClass("selected").children(".value").text(value);
        } else {
            $(this).siblings(".field").removeClass("selected").children(".value").text(value);
        }
    });    
    
});